<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    {% seo %}

    <!-- Fallback (safe even if duplicated): -->
    {% if site.google_site_verification %}
    <meta name="google-site-verification" content="{{ site.google_site_verification }}">
    {% endif %}
    {% if site.bing_site_verification %}
    <meta name="msvalidate.01" content="{{ site.bing_site_verification }}">
    {% endif %}

    <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.3/dist/darkly/bootstrap.min.css" rel="stylesheet">
    <link href="{{ '/assets/css/custom.css' | relative_url }}" rel="stylesheet">
    <link rel="icon" href="{{ '/assets/img/sns_defi_logo_2.png' | relative_url }}">
  </head>

  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary border-bottom sticky-top">
      <div class="container">
        <a class="navbar-brand fw-semibold d-flex align-items-center gap-2" href="{{ '/' | relative_url }}">
          <img src="{{ '/assets/img/sns_defi_logo_2.png' | relative_url }}" alt="SNS DeFi Logo" height="42" class="me-2">
          DeFi & Crypto @ SNS Pisa
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#topnav" aria-controls="topnav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="topnav">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            {% for item in site.data.navigation %}
              {% assign is_active = false %}
              {% if page.url == item.url or page.permalink == item.url %}
                {% assign is_active = true %}
              {% endif %}
              <li class="nav-item">
                <a class="nav-link {% if is_active %}active{% endif %}" aria-current="{% if is_active %}page{% endif %}" href="{{ item.url | relative_url }}">{{ item.title }}</a>
              </li>
            {% endfor %}
          </ul>
        </div>
      </div>
    </nav>

    <main class="flex-shrink-0">
      <div class="container py-4">
        {{ content }}
      </div>
    </main>

    {% include footer.html %}
  
    <!-- Add for fade scroll -->
    <script>
      const navbar = document.querySelector('.navbar');
      let lastScrollTop = 0;
    
      window.addEventListener('scroll', () => {
        const currentScroll = window.pageYOffset || document.documentElement.scrollTop;
    
        // Calculate scroll ratio (0 at top, increases as you scroll)
        const fadeStart = 0;      // start fading from very top
        const fadeUntil = 200;    // fully transparent after 200px scroll
        const scrollRange = fadeUntil - fadeStart;
        const opacity = 1 - Math.min(Math.max((currentScroll - fadeStart) / scrollRange, 0), 1);
    
        // Apply gradual fading
        navbar.style.opacity = opacity;
    
        // If scrolling up â†’ immediately show it again
        if (currentScroll < lastScrollTop) {
          navbar.style.opacity = 1;
        }
    
        lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
      });
    </script>
    <!-- Finish -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
  </body>
</html>
